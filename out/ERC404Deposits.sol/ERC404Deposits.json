{"abi":[{"type":"function","name":"_tokenDeposits","inputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"tokenAddress","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"depositTokens","inputs":[{"name":"tokenId_","type":"uint256","internalType":"uint256"},{"name":"tokenAddress_","type":"address","internalType":"address"},{"name":"amount_","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"depositTokens","inputs":[{"name":"tokenId_","type":"uint256","internalType":"uint256"},{"name":"amount_","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getTokenDeposits","inputs":[{"name":"tokenId_","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct ERC404Deposits.TokenDeposit[]","components":[{"name":"tokenAddress","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"event","name":"TokensDeposited","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenAddress","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TokensWithdrawn","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"tokenAddress","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"_tokenDeposits(uint256,uint256)":"b810217b","depositTokens(uint256,address,uint256)":"015bf264","depositTokens(uint256,uint256)":"f16ad51e","getTokenDeposits(uint256)":"7df1c3d8"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"TokensDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"TokensWithdrawn\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"_tokenDeposits\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId_\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"tokenAddress_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount_\",\"type\":\"uint256\"}],\"name\":\"depositTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount_\",\"type\":\"uint256\"}],\"name\":\"depositTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId_\",\"type\":\"uint256\"}],\"name\":\"getTokenDeposits\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct ERC404Deposits.TokenDeposit[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"TokensDeposited(uint256,address,uint256)\":{\"details\":\"\\u4e8b\\u4ef6\\u5b9a\\u4e49\"}},\"kind\":\"dev\",\"methods\":{\"depositTokens(uint256,uint256)\":{\"params\":{\"amount_\":\"\\u5b58\\u5165\\u7684\\u6570\\u91cf\",\"tokenId_\":\"NFT\\u7684ID\"}},\"getTokenDeposits(uint256)\":{\"params\":{\"tokenId_\":\"NFT\\u7684ID\"}}},\"stateVariables\":{\"_requiredAmount\":{\"details\":\"NFT ID => \\u6240\\u9700\\u7684\\u6700\\u5c0fERC20\\u6570\\u91cf\\u5f53NFT\\u88ab\\u62c6\\u5206\\u65f6\\uff0c\\u8bb0\\u5f55\\u5176\\u4e2d\\u6ce8\\u5165\\u7684\\u8d44\\u4ea7\\u6570\\u91cf\\uff0c\\u4efb\\u4f55\\u4eba\\u51d1\\u591f\\u8fd9\\u4e2a\\u6570\\u91cf\\u90fd\\u53ef\\u4ee5\\u83b7\\u5f97\\u8be5ID\"},\"_tokenDeposits\":{\"details\":\"NFT ID => \\u4ee3\\u5e01\\u5b58\\u6b3e\\u6570\\u7ec4\\u7684\\u6620\\u5c04\\u6570\\u7ec4\\u7d22\\u5f150\\u4f4d\\u7f6e\\u5b58\\u50a8\\u539f\\u751fERC20\\u8d44\\u4ea7\\uff0c\\u5176\\u4ed6\\u4f4d\\u7f6e\\u9884\\u7559\\u7ed9\\u672a\\u6765\\u53ef\\u80fd\\u7684\\u6269\\u5c55\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"depositTokens(uint256,uint256)\":{\"notice\":\"\\u5411\\u6307\\u5b9a\\u7684NFT\\u5b58\\u5165\\u672c\\u5408\\u7ea6\\u7684ERC20\\u4ee3\\u5e01\"},\"getTokenDeposits(uint256)\":{\"notice\":\"\\u83b7\\u53d6\\u6307\\u5b9aNFT\\u7684\\u6240\\u6709\\u5b58\\u6b3e\\u4fe1\\u606f\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/ERC404Deposits.sol\":\"ERC404Deposits\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=node_modules/@openzeppelin/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@uniswap/v2-periphery/=lib/v2-periphery/\",\":@uniswap/v3-periphery/=lib/v3-periphery/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":v2-periphery/=lib/v2-periphery/contracts/\",\":v3-periphery/=lib/v3-periphery/contracts/\"]},\"sources\":{\"contracts/ERC404Deposits.sol\":{\"keccak256\":\"0xbabe4caca39cd1e1808a7be6b140b0d70923f9a860c079a9af425e383b14ce2a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6b63ac108015741a001e448c1e482d81a4c9db04757c3495bb40936226f1178e\",\"dweb:/ipfs/QmYMRAutYyZJxUG94kKKgZ2R87VAZVLS4Xzy5Dj4ZwquAu\"]},\"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0x6ebf1944ab804b8660eb6fc52f9fe84588cee01c2566a69023e59497e7d27f45\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2900536cdadec954ced8789a9d1ed4b5e640029e1424e91fd5b88026486f4d45\",\"dweb:/ipfs/QmUMUX7CuYoiHvFkhifqtXGaciw2wnm4t9sAoPzETZ3Gbq\"]},\"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5\",\"dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"address","name":"tokenAddress","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"TokensDeposited","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"address","name":"tokenAddress","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"TokensWithdrawn","anonymous":false},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"_tokenDeposits","outputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"tokenId_","type":"uint256"},{"internalType":"address","name":"tokenAddress_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"depositTokens"},{"inputs":[{"internalType":"uint256","name":"tokenId_","type":"uint256"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"depositTokens"},{"inputs":[{"internalType":"uint256","name":"tokenId_","type":"uint256"}],"stateMutability":"view","type":"function","name":"getTokenDeposits","outputs":[{"internalType":"struct ERC404Deposits.TokenDeposit[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}]}]}],"devdoc":{"kind":"dev","methods":{"depositTokens(uint256,uint256)":{"params":{"amount_":"存入的数量","tokenId_":"NFT的ID"}},"getTokenDeposits(uint256)":{"params":{"tokenId_":"NFT的ID"}}},"version":1},"userdoc":{"kind":"user","methods":{"depositTokens(uint256,uint256)":{"notice":"向指定的NFT存入本合约的ERC20代币"},"getTokenDeposits(uint256)":{"notice":"获取指定NFT的所有存款信息"}},"version":1}},"settings":{"remappings":["@openzeppelin/=node_modules/@openzeppelin/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@uniswap/v2-periphery/=lib/v2-periphery/","@uniswap/v3-periphery/=lib/v3-periphery/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","v2-periphery/=lib/v2-periphery/contracts/","v3-periphery/=lib/v3-periphery/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/ERC404Deposits.sol":"ERC404Deposits"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/ERC404Deposits.sol":{"keccak256":"0xbabe4caca39cd1e1808a7be6b140b0d70923f9a860c079a9af425e383b14ce2a","urls":["bzz-raw://6b63ac108015741a001e448c1e482d81a4c9db04757c3495bb40936226f1178e","dweb:/ipfs/QmYMRAutYyZJxUG94kKKgZ2R87VAZVLS4Xzy5Dj4ZwquAu"],"license":"MIT"},"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol":{"keccak256":"0x6ebf1944ab804b8660eb6fc52f9fe84588cee01c2566a69023e59497e7d27f45","urls":["bzz-raw://2900536cdadec954ced8789a9d1ed4b5e640029e1424e91fd5b88026486f4d45","dweb:/ipfs/QmUMUX7CuYoiHvFkhifqtXGaciw2wnm4t9sAoPzETZ3Gbq"],"license":"MIT"},"node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305","urls":["bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5","dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/ERC404Deposits.sol","id":2764,"exportedSymbols":{"ERC404Deposits":[2763],"IERC20":[8388]},"nodeType":"SourceUnit","src":"32:4827:1","nodes":[{"id":2423,"nodeType":"PragmaDirective","src":"32:24:1","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":2425,"nodeType":"ImportDirective","src":"58:69:1","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/interfaces/IERC20.sol","file":"@openzeppelin/contracts/interfaces/IERC20.sol","nameLocation":"-1:-1:-1","scope":2764,"sourceUnit":8308,"symbolAliases":[{"foreign":{"id":2424,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8388,"src":"66:6:1","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":2763,"nodeType":"ContractDefinition","src":"129:4729:1","nodes":[{"id":2431,"nodeType":"StructDefinition","src":"212:125:1","nodes":[],"canonicalName":"ERC404Deposits.TokenDeposit","documentation":{"id":2426,"nodeType":"StructuredDocumentation","src":"168:39:1","text":"@dev 每个NFT的存款信息结构"},"members":[{"constant":false,"id":2428,"mutability":"mutable","name":"tokenAddress","nameLocation":"250:12:1","nodeType":"VariableDeclaration","scope":2431,"src":"242:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2427,"name":"address","nodeType":"ElementaryTypeName","src":"242:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2430,"mutability":"mutable","name":"amount","nameLocation":"302:6:1","nodeType":"VariableDeclaration","scope":2431,"src":"294:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2429,"name":"uint256","nodeType":"ElementaryTypeName","src":"294:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"TokenDeposit","nameLocation":"219:12:1","scope":2763,"visibility":"public"},{"id":2437,"nodeType":"VariableDeclaration","src":"342:58:1","nodes":[],"constant":false,"mutability":"mutable","name":"_splitDeposits","nameLocation":"386:14:1","scope":2763,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit[])"},"typeName":{"id":2436,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2432,"name":"uint256","nodeType":"ElementaryTypeName","src":"350:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"342:34:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit[])"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"baseType":{"id":2434,"nodeType":"UserDefinedTypeName","pathNode":{"id":2433,"name":"TokenDeposit","nameLocations":["361:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"361:12:1"},"referencedDeclaration":2431,"src":"361:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2435,"nodeType":"ArrayTypeName","src":"361:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}}},"visibility":"internal"},{"id":2444,"nodeType":"VariableDeclaration","src":"560:56:1","nodes":[],"constant":false,"documentation":{"id":2438,"nodeType":"StructuredDocumentation","src":"408:147:1","text":"@dev NFT ID => 代币存款数组的映射\n @dev 数组索引0位置存储原生ERC20资产，其他位置预留给未来可能的扩展"},"functionSelector":"b810217b","mutability":"mutable","name":"_tokenDeposits","nameLocation":"602:14:1","scope":2763,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit[])"},"typeName":{"id":2443,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2439,"name":"uint256","nodeType":"ElementaryTypeName","src":"568:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"560:34:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit[])"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"baseType":{"id":2441,"nodeType":"UserDefinedTypeName","pathNode":{"id":2440,"name":"TokenDeposit","nameLocations":["579:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"579:12:1"},"referencedDeclaration":2431,"src":"579:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2442,"nodeType":"ArrayTypeName","src":"579:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}}},"visibility":"public"},{"id":2449,"nodeType":"VariableDeclaration","src":"791:52:1","nodes":[],"constant":false,"documentation":{"id":2445,"nodeType":"StructuredDocumentation","src":"623:163:1","text":"@dev NFT ID => 所需的最小ERC20数量\n @dev 当NFT被拆分时，记录其中注入的资产数量，任何人凑够这个数量都可以获得该ID"},"mutability":"mutable","name":"_requiredAmount","nameLocation":"828:15:1","scope":2763,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":2448,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2446,"name":"uint256","nodeType":"ElementaryTypeName","src":"799:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"791:27:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":2447,"name":"uint256","nodeType":"ElementaryTypeName","src":"810:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"internal"},{"id":2458,"nodeType":"EventDefinition","src":"875:93:1","nodes":[],"anonymous":false,"documentation":{"id":2450,"nodeType":"StructuredDocumentation","src":"849:21:1","text":"@dev 事件定义"},"eventSelector":"b162210da7d23d82c18cff5af46d3562661d26b42a6848fa28d64a6bdc70386a","name":"TokensDeposited","nameLocation":"881:15:1","parameters":{"id":2457,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2452,"indexed":true,"mutability":"mutable","name":"tokenId","nameLocation":"913:7:1","nodeType":"VariableDeclaration","scope":2458,"src":"897:23:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2451,"name":"uint256","nodeType":"ElementaryTypeName","src":"897:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2454,"indexed":true,"mutability":"mutable","name":"tokenAddress","nameLocation":"938:12:1","nodeType":"VariableDeclaration","scope":2458,"src":"922:28:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2453,"name":"address","nodeType":"ElementaryTypeName","src":"922:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2456,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"960:6:1","nodeType":"VariableDeclaration","scope":2458,"src":"952:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2455,"name":"uint256","nodeType":"ElementaryTypeName","src":"952:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"896:71:1"}},{"id":2466,"nodeType":"EventDefinition","src":"973:93:1","nodes":[],"anonymous":false,"eventSelector":"3f5fbaf86658fdadee77f1d46e7f8a72424ad9839eda6a1dc6eb0a4228e4226e","name":"TokensWithdrawn","nameLocation":"979:15:1","parameters":{"id":2465,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2460,"indexed":true,"mutability":"mutable","name":"tokenId","nameLocation":"1011:7:1","nodeType":"VariableDeclaration","scope":2466,"src":"995:23:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2459,"name":"uint256","nodeType":"ElementaryTypeName","src":"995:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2462,"indexed":true,"mutability":"mutable","name":"tokenAddress","nameLocation":"1036:12:1","nodeType":"VariableDeclaration","scope":2466,"src":"1020:28:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2461,"name":"address","nodeType":"ElementaryTypeName","src":"1020:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2464,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"1058:6:1","nodeType":"VariableDeclaration","scope":2466,"src":"1050:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2463,"name":"uint256","nodeType":"ElementaryTypeName","src":"1050:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"994:71:1"}},{"id":2484,"nodeType":"FunctionDefinition","src":"1205:137:1","nodes":[],"body":{"id":2483,"nodeType":"Block","src":"1278:64:1","nodes":[],"statements":[{"expression":{"arguments":[{"id":2475,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2469,"src":"1302:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":2478,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"1320:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ERC404Deposits_$2763","typeString":"contract ERC404Deposits"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_ERC404Deposits_$2763","typeString":"contract ERC404Deposits"}],"id":2477,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1312:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2476,"name":"address","nodeType":"ElementaryTypeName","src":"1312:7:1","typeDescriptions":{}}},"id":2479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1312:13:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2480,"name":"amount_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2471,"src":"1327:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2474,"name":"depositTokens","nodeType":"Identifier","overloadedDeclarations":[2484,2494],"referencedDeclaration":2494,"src":"1288:13:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":2481,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1288:47:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2482,"nodeType":"ExpressionStatement","src":"1288:47:1"}]},"documentation":{"id":2467,"nodeType":"StructuredDocumentation","src":"1072:128:1","text":"@notice 向指定的NFT存入本合约的ERC20代币\n @param tokenId_ NFT的ID\n @param amount_ 存入的数量"},"functionSelector":"f16ad51e","implemented":true,"kind":"function","modifiers":[],"name":"depositTokens","nameLocation":"1214:13:1","parameters":{"id":2472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2469,"mutability":"mutable","name":"tokenId_","nameLocation":"1236:8:1","nodeType":"VariableDeclaration","scope":2484,"src":"1228:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2468,"name":"uint256","nodeType":"ElementaryTypeName","src":"1228:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2471,"mutability":"mutable","name":"amount_","nameLocation":"1254:7:1","nodeType":"VariableDeclaration","scope":2484,"src":"1246:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2470,"name":"uint256","nodeType":"ElementaryTypeName","src":"1246:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1227:35:1"},"returnParameters":{"id":2473,"nodeType":"ParameterList","parameters":[],"src":"1278:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"public"},{"id":2494,"nodeType":"FunctionDefinition","src":"1348:98:1","nodes":[],"body":{"id":2493,"nodeType":"Block","src":"1444:2:1","nodes":[],"statements":[]},"functionSelector":"015bf264","implemented":true,"kind":"function","modifiers":[],"name":"depositTokens","nameLocation":"1357:13:1","parameters":{"id":2491,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2486,"mutability":"mutable","name":"tokenId_","nameLocation":"1379:8:1","nodeType":"VariableDeclaration","scope":2494,"src":"1371:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2485,"name":"uint256","nodeType":"ElementaryTypeName","src":"1371:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2488,"mutability":"mutable","name":"tokenAddress_","nameLocation":"1397:13:1","nodeType":"VariableDeclaration","scope":2494,"src":"1389:21:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2487,"name":"address","nodeType":"ElementaryTypeName","src":"1389:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2490,"mutability":"mutable","name":"amount_","nameLocation":"1420:7:1","nodeType":"VariableDeclaration","scope":2494,"src":"1412:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2489,"name":"uint256","nodeType":"ElementaryTypeName","src":"1412:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1370:58:1"},"returnParameters":{"id":2492,"nodeType":"ParameterList","parameters":[],"src":"1444:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"public"},{"id":2509,"nodeType":"FunctionDefinition","src":"1538:144:1","nodes":[],"body":{"id":2508,"nodeType":"Block","src":"1634:48:1","nodes":[],"statements":[{"expression":{"baseExpression":{"id":2504,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"1651:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2506,"indexExpression":{"id":2505,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2497,"src":"1666:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1651:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"functionReturnParameters":2503,"id":2507,"nodeType":"Return","src":"1644:31:1"}]},"documentation":{"id":2495,"nodeType":"StructuredDocumentation","src":"1452:81:1","text":"@notice 获取指定NFT的所有存款信息\n @param tokenId_ NFT的ID"},"functionSelector":"7df1c3d8","implemented":true,"kind":"function","modifiers":[],"name":"getTokenDeposits","nameLocation":"1547:16:1","parameters":{"id":2498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2497,"mutability":"mutable","name":"tokenId_","nameLocation":"1572:8:1","nodeType":"VariableDeclaration","scope":2509,"src":"1564:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2496,"name":"uint256","nodeType":"ElementaryTypeName","src":"1564:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1563:18:1"},"returnParameters":{"id":2503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2502,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2509,"src":"1611:21:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_memory_ptr_$dyn_memory_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"},"typeName":{"baseType":{"id":2500,"nodeType":"UserDefinedTypeName","pathNode":{"id":2499,"name":"TokenDeposit","nameLocations":["1611:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"1611:12:1"},"referencedDeclaration":2431,"src":"1611:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2501,"nodeType":"ArrayTypeName","src":"1611:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}},"visibility":"internal"}],"src":"1610:23:1"},"scope":2763,"stateMutability":"view","virtual":true,"visibility":"public"},{"id":2574,"nodeType":"FunctionDefinition","src":"1794:723:1","nodes":[],"body":{"id":2573,"nodeType":"Block","src":"1884:633:1","nodes":[],"statements":[{"assignments":[2523],"declarations":[{"constant":false,"id":2523,"mutability":"mutable","name":"deposits","nameLocation":"1917:8:1","nodeType":"VariableDeclaration","scope":2573,"src":"1894:31:1","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"},"typeName":{"baseType":{"id":2521,"nodeType":"UserDefinedTypeName","pathNode":{"id":2520,"name":"TokenDeposit","nameLocations":["1894:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"1894:12:1"},"referencedDeclaration":2431,"src":"1894:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2522,"nodeType":"ArrayTypeName","src":"1894:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}},"visibility":"internal"}],"id":2527,"initialValue":{"baseExpression":{"id":2524,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"1928:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2526,"indexExpression":{"id":2525,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"1943:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1928:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1894:58:1"},{"assignments":[2529],"declarations":[{"constant":false,"id":2529,"mutability":"mutable","name":"depositCount","nameLocation":"1970:12:1","nodeType":"VariableDeclaration","scope":2573,"src":"1962:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2528,"name":"uint256","nodeType":"ElementaryTypeName","src":"1962:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2532,"initialValue":{"expression":{"id":2530,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2523,"src":"1985:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1994:6:1","memberName":"length","nodeType":"MemberAccess","src":"1985:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1962:38:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2535,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2533,"name":"depositCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2529,"src":"2023:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":2534,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2038:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2023:16:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2572,"nodeType":"IfStatement","src":"2019:492:1","trueBody":{"id":2571,"nodeType":"Block","src":"2041:470:1","statements":[{"body":{"id":2569,"nodeType":"Block","src":"2098:403:1","statements":[{"assignments":[2548],"declarations":[{"constant":false,"id":2548,"mutability":"mutable","name":"deposit","nameLocation":"2137:7:1","nodeType":"VariableDeclaration","scope":2569,"src":"2116:28:1","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"},"typeName":{"id":2547,"nodeType":"UserDefinedTypeName","pathNode":{"id":2546,"name":"TokenDeposit","nameLocations":["2116:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"2116:12:1"},"referencedDeclaration":2431,"src":"2116:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"visibility":"internal"}],"id":2552,"initialValue":{"baseExpression":{"id":2549,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2523,"src":"2147:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2551,"indexExpression":{"id":2550,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"2156:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2147:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2116:42:1"},{"eventCall":{"arguments":[{"id":2554,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"2353:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":2555,"name":"deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2548,"src":"2363:7:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage pointer"}},"id":2556,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2371:12:1","memberName":"tokenAddress","nodeType":"MemberAccess","referencedDeclaration":2428,"src":"2363:20:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":2557,"name":"deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2548,"src":"2385:7:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage pointer"}},"id":2558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2393:6:1","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":2430,"src":"2385:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2553,"name":"TokensWithdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2466,"src":"2337:15:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":2559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2337:63:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2560,"nodeType":"EmitStatement","src":"2332:68:1"},{"eventCall":{"arguments":[{"id":2562,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"2439:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":2563,"name":"deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2548,"src":"2449:7:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage pointer"}},"id":2564,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2457:12:1","memberName":"tokenAddress","nodeType":"MemberAccess","referencedDeclaration":2428,"src":"2449:20:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":2565,"name":"deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2548,"src":"2471:7:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage pointer"}},"id":2566,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2479:6:1","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":2430,"src":"2471:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2561,"name":"TokensDeposited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2458,"src":"2423:15:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":2567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2423:63:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2568,"nodeType":"EmitStatement","src":"2418:68:1"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2540,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"2075:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":2541,"name":"depositCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2529,"src":"2079:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2075:16:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2570,"initializationExpression":{"assignments":[2537],"declarations":[{"constant":false,"id":2537,"mutability":"mutable","name":"i","nameLocation":"2068:1:1","nodeType":"VariableDeclaration","scope":2570,"src":"2060:9:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2536,"name":"uint256","nodeType":"ElementaryTypeName","src":"2060:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2539,"initialValue":{"hexValue":"30","id":2538,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2072:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2060:13:1"},"loopExpression":{"expression":{"id":2544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2093:3:1","subExpression":{"id":2543,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"2093:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2545,"nodeType":"ExpressionStatement","src":"2093:3:1"},"nodeType":"ForStatement","src":"2055:446:1"}]}}]},"documentation":{"id":2510,"nodeType":"StructuredDocumentation","src":"1688:101:1","text":"@notice 在NFT转移时转移所有存款\n @dev 这个函数应该在NFT转移时被调用"},"implemented":true,"kind":"function","modifiers":[],"name":"_transferDeposits","nameLocation":"1803:17:1","parameters":{"id":2517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2512,"mutability":"mutable","name":"tokenId_","nameLocation":"1829:8:1","nodeType":"VariableDeclaration","scope":2574,"src":"1821:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2511,"name":"uint256","nodeType":"ElementaryTypeName","src":"1821:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2514,"mutability":"mutable","name":"from_","nameLocation":"1847:5:1","nodeType":"VariableDeclaration","scope":2574,"src":"1839:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2513,"name":"address","nodeType":"ElementaryTypeName","src":"1839:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2516,"mutability":"mutable","name":"to_","nameLocation":"1862:3:1","nodeType":"VariableDeclaration","scope":2574,"src":"1854:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2515,"name":"address","nodeType":"ElementaryTypeName","src":"1854:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1820:46:1"},"returnParameters":{"id":2518,"nodeType":"ParameterList","parameters":[],"src":"1884:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":2624,"nodeType":"FunctionDefinition","src":"2574:450:1","nodes":[],"body":{"id":2623,"nodeType":"Block","src":"2649:375:1","nodes":[],"statements":[{"assignments":[2586],"declarations":[{"constant":false,"id":2586,"mutability":"mutable","name":"deposits","nameLocation":"2682:8:1","nodeType":"VariableDeclaration","scope":2623,"src":"2659:31:1","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"},"typeName":{"baseType":{"id":2584,"nodeType":"UserDefinedTypeName","pathNode":{"id":2583,"name":"TokenDeposit","nameLocations":["2659:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"2659:12:1"},"referencedDeclaration":2431,"src":"2659:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2585,"nodeType":"ArrayTypeName","src":"2659:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}},"visibility":"internal"}],"id":2590,"initialValue":{"baseExpression":{"id":2587,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"2693:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2589,"indexExpression":{"id":2588,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2577,"src":"2708:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2693:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2659:58:1"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2595,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2592,"name":"index_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"2735:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2593,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"2744:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2753:6:1","memberName":"length","nodeType":"MemberAccess","src":"2744:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2735:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420696e646578","id":2596,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2761:15:1","typeDescriptions":{"typeIdentifier":"t_stringliteral_32cc480c4f0e15e5ce7060ec5e004886ed5a15831cba1ff1aa7cb787be55bb60","typeString":"literal_string \"Invalid index\""},"value":"Invalid index"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_32cc480c4f0e15e5ce7060ec5e004886ed5a15831cba1ff1aa7cb787be55bb60","typeString":"literal_string \"Invalid index\""}],"id":2591,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2727:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2597,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2727:50:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2598,"nodeType":"ExpressionStatement","src":"2727:50:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2599,"name":"index_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"2890:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2600,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"2900:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2601,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2909:6:1","memberName":"length","nodeType":"MemberAccess","src":"2900:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":2602,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2918:1:1","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2900:19:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2890:29:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2617,"nodeType":"IfStatement","src":"2886:108:1","trueBody":{"id":2616,"nodeType":"Block","src":"2921:73:1","statements":[{"expression":{"id":2614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":2605,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"2935:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2607,"indexExpression":{"id":2606,"name":"index_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"2944:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2935:16:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":2608,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"2954:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2613,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2609,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"2963:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2972:6:1","memberName":"length","nodeType":"MemberAccess","src":"2963:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":2611,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2981:1:1","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2963:19:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2954:29:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"src":"2935:48:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"id":2615,"nodeType":"ExpressionStatement","src":"2935:48:1"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":2618,"name":"deposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2586,"src":"3003:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3012:3:1","memberName":"pop","nodeType":"MemberAccess","src":"3003:12:1","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr_$","typeString":"function (struct ERC404Deposits.TokenDeposit storage ref[] storage pointer)"}},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3003:14:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2622,"nodeType":"ExpressionStatement","src":"3003:14:1"}]},"documentation":{"id":2575,"nodeType":"StructuredDocumentation","src":"2524:45:1","text":"@notice 移除指定索引的存款记录"},"implemented":true,"kind":"function","modifiers":[],"name":"_removeDeposit","nameLocation":"2583:14:1","parameters":{"id":2580,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2577,"mutability":"mutable","name":"tokenId_","nameLocation":"2606:8:1","nodeType":"VariableDeclaration","scope":2624,"src":"2598:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2576,"name":"uint256","nodeType":"ElementaryTypeName","src":"2598:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2579,"mutability":"mutable","name":"index_","nameLocation":"2624:6:1","nodeType":"VariableDeclaration","scope":2624,"src":"2616:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2578,"name":"uint256","nodeType":"ElementaryTypeName","src":"2616:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2597:34:1"},"returnParameters":{"id":2581,"nodeType":"ParameterList","parameters":[],"src":"2649:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":2634,"nodeType":"FunctionDefinition","src":"3083:84:1","nodes":[],"documentation":{"id":2625,"nodeType":"StructuredDocumentation","src":"3030:48:1","text":"@dev 这些函数需要被继承合约实现"},"implemented":false,"kind":"function","modifiers":[],"name":"_isOwner","nameLocation":"3092:8:1","parameters":{"id":2630,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2627,"mutability":"mutable","name":"owner_","nameLocation":"3109:6:1","nodeType":"VariableDeclaration","scope":2634,"src":"3101:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2626,"name":"address","nodeType":"ElementaryTypeName","src":"3101:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2629,"mutability":"mutable","name":"tokenId_","nameLocation":"3125:8:1","nodeType":"VariableDeclaration","scope":2634,"src":"3117:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2628,"name":"uint256","nodeType":"ElementaryTypeName","src":"3117:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3100:34:1"},"returnParameters":{"id":2633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2632,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2634,"src":"3161:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2631,"name":"bool","nodeType":"ElementaryTypeName","src":"3161:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3160:6:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":2645,"nodeType":"FunctionDefinition","src":"3172:96:1","nodes":[],"implemented":false,"kind":"function","modifiers":[],"name":"_transfer","nameLocation":"3181:9:1","parameters":{"id":2641,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2636,"mutability":"mutable","name":"from_","nameLocation":"3199:5:1","nodeType":"VariableDeclaration","scope":2645,"src":"3191:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2635,"name":"address","nodeType":"ElementaryTypeName","src":"3191:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2638,"mutability":"mutable","name":"to_","nameLocation":"3214:3:1","nodeType":"VariableDeclaration","scope":2645,"src":"3206:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2637,"name":"address","nodeType":"ElementaryTypeName","src":"3206:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2640,"mutability":"mutable","name":"amount_","nameLocation":"3227:7:1","nodeType":"VariableDeclaration","scope":2645,"src":"3219:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2639,"name":"uint256","nodeType":"ElementaryTypeName","src":"3219:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3190:45:1"},"returnParameters":{"id":2644,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2643,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2645,"src":"3262:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2642,"name":"bool","nodeType":"ElementaryTypeName","src":"3262:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3261:6:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":2656,"nodeType":"FunctionDefinition","src":"3273:106:1","nodes":[],"implemented":false,"kind":"function","modifiers":[],"name":"_transferFromSender","nameLocation":"3282:19:1","parameters":{"id":2652,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2647,"mutability":"mutable","name":"from_","nameLocation":"3310:5:1","nodeType":"VariableDeclaration","scope":2656,"src":"3302:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2646,"name":"address","nodeType":"ElementaryTypeName","src":"3302:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2649,"mutability":"mutable","name":"to_","nameLocation":"3325:3:1","nodeType":"VariableDeclaration","scope":2656,"src":"3317:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2648,"name":"address","nodeType":"ElementaryTypeName","src":"3317:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2651,"mutability":"mutable","name":"amount_","nameLocation":"3338:7:1","nodeType":"VariableDeclaration","scope":2656,"src":"3330:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2650,"name":"uint256","nodeType":"ElementaryTypeName","src":"3330:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3301:45:1"},"returnParameters":{"id":2655,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2654,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2656,"src":"3373:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2653,"name":"bool","nodeType":"ElementaryTypeName","src":"3373:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3372:6:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":2687,"nodeType":"FunctionDefinition","src":"3447:355:1","nodes":[],"body":{"id":2686,"nodeType":"Block","src":"3499:303:1","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":2662,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"3513:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2664,"indexExpression":{"id":2663,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2659,"src":"3528:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3513:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"id":2665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3538:6:1","memberName":"length","nodeType":"MemberAccess","src":"3513:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":2666,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3547:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3513:35:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2685,"nodeType":"IfStatement","src":"3509:287:1","trueBody":{"id":2684,"nodeType":"Block","src":"3550:246:1","statements":[{"expression":{"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":2668,"name":"_requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2449,"src":"3625:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2670,"indexExpression":{"id":2669,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2659,"src":"3641:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3625:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"baseExpression":{"id":2671,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"3653:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2673,"indexExpression":{"id":2672,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2659,"src":"3668:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3653:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"id":2675,"indexExpression":{"hexValue":"30","id":2674,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3678:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3653:27:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"id":2676,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3681:6:1","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":2430,"src":"3653:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3625:62:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2678,"nodeType":"ExpressionStatement","src":"3625:62:1"},{"expression":{"id":2682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"3754:31:1","subExpression":{"baseExpression":{"id":2679,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"3761:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2681,"indexExpression":{"id":2680,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2659,"src":"3776:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3761:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2683,"nodeType":"ExpressionStatement","src":"3754:31:1"}]}}]},"documentation":{"id":2657,"nodeType":"StructuredDocumentation","src":"3385:57:1","text":"@notice 在NFT被拆分时记录所需的最小数量"},"implemented":true,"kind":"function","modifiers":[],"name":"_handleNFTSplit","nameLocation":"3456:15:1","parameters":{"id":2660,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2659,"mutability":"mutable","name":"tokenId_","nameLocation":"3480:8:1","nodeType":"VariableDeclaration","scope":2687,"src":"3472:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2658,"name":"uint256","nodeType":"ElementaryTypeName","src":"3472:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3471:18:1"},"returnParameters":{"id":2661,"nodeType":"ParameterList","parameters":[],"src":"3499:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2732,"nodeType":"FunctionDefinition","src":"3933:517:1","nodes":[],"body":{"id":2731,"nodeType":"Block","src":"4013:437:1","nodes":[],"statements":[{"assignments":[2696],"declarations":[{"constant":false,"id":2696,"mutability":"mutable","name":"requiredAmount","nameLocation":"4031:14:1","nodeType":"VariableDeclaration","scope":2731,"src":"4023:22:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2695,"name":"uint256","nodeType":"ElementaryTypeName","src":"4023:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2700,"initialValue":{"baseExpression":{"id":2697,"name":"_requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2449,"src":"4048:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2699,"indexExpression":{"id":2698,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2690,"src":"4064:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4048:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4023:50:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2701,"name":"requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2696,"src":"4087:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2702,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4105:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4087:19:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2707,"nodeType":"IfStatement","src":"4083:113:1","trueBody":{"id":2706,"nodeType":"Block","src":"4108:88:1","statements":[{"expression":{"hexValue":"74727565","id":2704,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4129:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":2694,"id":2705,"nodeType":"Return","src":"4122:11:1"}]}},{"assignments":[2712],"declarations":[{"constant":false,"id":2712,"mutability":"mutable","name":"currentDeposits","nameLocation":"4277:15:1","nodeType":"VariableDeclaration","scope":2731,"src":"4254:38:1","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"},"typeName":{"baseType":{"id":2710,"nodeType":"UserDefinedTypeName","pathNode":{"id":2709,"name":"TokenDeposit","nameLocations":["4254:12:1"],"nodeType":"IdentifierPath","referencedDeclaration":2431,"src":"4254:12:1"},"referencedDeclaration":2431,"src":"4254:12:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit"}},"id":2711,"nodeType":"ArrayTypeName","src":"4254:14:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit[]"}},"visibility":"internal"}],"id":2716,"initialValue":{"baseExpression":{"id":2713,"name":"_tokenDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"4295:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_$","typeString":"mapping(uint256 => struct ERC404Deposits.TokenDeposit storage ref[] storage ref)"}},"id":2715,"indexExpression":{"id":2714,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2690,"src":"4310:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4295:24:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4254:65:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2717,"name":"currentDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2712,"src":"4333:15:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4349:6:1","memberName":"length","nodeType":"MemberAccess","src":"4333:22:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2719,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4359:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4333:27:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2723,"nodeType":"IfStatement","src":"4329:45:1","trueBody":{"expression":{"hexValue":"66616c7365","id":2721,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4369:5:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":2694,"id":2722,"nodeType":"Return","src":"4362:12:1"}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":2724,"name":"currentDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2712,"src":"4400:15:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_TokenDeposit_$2431_storage_$dyn_storage_ptr","typeString":"struct ERC404Deposits.TokenDeposit storage ref[] storage pointer"}},"id":2726,"indexExpression":{"hexValue":"30","id":2725,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4416:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4400:18:1","typeDescriptions":{"typeIdentifier":"t_struct$_TokenDeposit_$2431_storage","typeString":"struct ERC404Deposits.TokenDeposit storage ref"}},"id":2727,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4419:6:1","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":2430,"src":"4400:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":2728,"name":"requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2696,"src":"4429:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4400:43:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2694,"id":2730,"nodeType":"Return","src":"4393:50:1"}]},"documentation":{"id":2688,"nodeType":"StructuredDocumentation","src":"3808:120:1","text":"@notice 检查是否可以恢复特定ID的NFT\n @dev 任何人只要有足够的代币都可以获得这个ID"},"implemented":true,"kind":"function","modifiers":[],"name":"_canRestoreNFT","nameLocation":"3942:14:1","parameters":{"id":2691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2690,"mutability":"mutable","name":"tokenId_","nameLocation":"3965:8:1","nodeType":"VariableDeclaration","scope":2732,"src":"3957:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2689,"name":"uint256","nodeType":"ElementaryTypeName","src":"3957:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3956:18:1"},"returnParameters":{"id":2694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2693,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2732,"src":"4007:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2692,"name":"bool","nodeType":"ElementaryTypeName","src":"4007:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4006:6:1"},"scope":2763,"stateMutability":"view","virtual":true,"visibility":"internal"},{"id":2762,"nodeType":"FunctionDefinition","src":"4503:353:1","nodes":[],"body":{"id":2761,"nodeType":"Block","src":"4565:291:1","nodes":[],"statements":[{"assignments":[2739],"declarations":[{"constant":false,"id":2739,"mutability":"mutable","name":"requiredAmount","nameLocation":"4583:14:1","nodeType":"VariableDeclaration","scope":2761,"src":"4575:22:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2738,"name":"uint256","nodeType":"ElementaryTypeName","src":"4575:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2743,"initialValue":{"baseExpression":{"id":2740,"name":"_requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2449,"src":"4600:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2742,"indexExpression":{"id":2741,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2735,"src":"4616:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4600:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4575:50:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2744,"name":"requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2739,"src":"4639:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":2745,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4656:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4639:18:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2760,"nodeType":"IfStatement","src":"4635:215:1","trueBody":{"id":2759,"nodeType":"Block","src":"4659:191:1","statements":[{"expression":{"arguments":[{"arguments":[{"id":2749,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2735,"src":"4696:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2748,"name":"_canRestoreNFT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2732,"src":"4681:14:1","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":2750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4681:24:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e73756666696369656e74206465706f7369747320746f20726573746f7265204e4654","id":2751,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4707:38:1","typeDescriptions":{"typeIdentifier":"t_stringliteral_0720edb4f167289ed8b97d5fcf376863593767c4c2e5b8599be7d5201b62dd55","typeString":"literal_string \"Insufficient deposits to restore NFT\""},"value":"Insufficient deposits to restore NFT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0720edb4f167289ed8b97d5fcf376863593767c4c2e5b8599be7d5201b62dd55","typeString":"literal_string \"Insufficient deposits to restore NFT\""}],"id":2747,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4673:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4673:73:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2753,"nodeType":"ExpressionStatement","src":"4673:73:1"},{"expression":{"id":2757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"4807:32:1","subExpression":{"baseExpression":{"id":2754,"name":"_requiredAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2449,"src":"4814:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2756,"indexExpression":{"id":2755,"name":"tokenId_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2735,"src":"4830:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4814:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2758,"nodeType":"ExpressionStatement","src":"4807:32:1"}]}}]},"documentation":{"id":2733,"nodeType":"StructuredDocumentation","src":"4456:42:1","text":"@notice 在NFT被恢复时处理记录"},"implemented":true,"kind":"function","modifiers":[],"name":"_handleNFTRestore","nameLocation":"4512:17:1","parameters":{"id":2736,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2735,"mutability":"mutable","name":"tokenId_","nameLocation":"4538:8:1","nodeType":"VariableDeclaration","scope":2762,"src":"4530:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2734,"name":"uint256","nodeType":"ElementaryTypeName","src":"4530:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4529:18:1"},"returnParameters":{"id":2737,"nodeType":"ParameterList","parameters":[],"src":"4565:0:1"},"scope":2763,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"}],"abstract":true,"baseContracts":[],"canonicalName":"ERC404Deposits","contractDependencies":[],"contractKind":"contract","fullyImplemented":false,"linearizedBaseContracts":[2763],"name":"ERC404Deposits","nameLocation":"147:14:1","scope":2764,"usedErrors":[],"usedEvents":[2458,2466]}],"license":"MIT"},"id":1}